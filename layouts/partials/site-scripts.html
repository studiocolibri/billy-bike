{{ $main := resources.Get "js/main.js" }}
{{ $defaultJS := slice $main | resources.Concat "js/global.js" }}
{{ $globalJS := $defaultJS | resources.Minify | resources.Fingerprint }}
<!--<script src="{{ $globalJS.Permalink }}"></script>-->
<script>
var menuToggle=document.querySelector("#site-nav__toggle"),siteHeader=document.querySelector("#site-header"),menuLinks=document.querySelectorAll(".site-nav__link");function closeMenu(){console.log("closemenu"),menuToggle.setAttribute("aria-expanded","false"),siteHeader.classList.remove("is-active")}console.log("ok"),menuToggle.addEventListener("click",function(){siteHeader.classList.contains("is-active")?closeMenu():(siteHeader.classList.add("is-active"),this.setAttribute("aria-expanded","true"))}),menuLinks.forEach(function(e){e.addEventListener("click",closeMenu)});function scrollAnchors(e,respond=null){const distanceToTop=el=>Math.floor(el.getBoundingClientRect().top);e.preventDefault();var targetID=(respond)?respond.getAttribute('href'):this.getAttribute('href');const targetAnchor=document.querySelector(targetID);if(!targetAnchor)return;const originalTop=distanceToTop(targetAnchor);window.scrollBy({top:originalTop,left:0,behavior:'smooth'});const checkIfDone=setInterval(function(){const atBottom=window.innerHeight+window.pageYOffset>=document.body.offsetHeight-2;if(distanceToTop(targetAnchor)===0||atBottom){targetAnchor.tabIndex='-1';targetAnchor.focus();window.history.pushState('','',targetID);clearInterval(checkIfDone)}},100)};function scrollTo(){for(var a=document.getElementsByTagName("a"),e=0;e<a.length;e++){var n=a[e];!n.href||-1==n.href.indexOf("#")||n.pathname!=location.pathname&&"/"+n.pathname!=location.pathname||n.search!=location.search||(n.onclick=scrollAnchors)}};
</script>

